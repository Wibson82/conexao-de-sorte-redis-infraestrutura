name: "ğŸ”´ Redis Test Step 1 - Runner Connection"

on:
  workflow_dispatch:

env:
  SERVICE_NAME: redis-infrastructure

permissions:
  contents: read
  id-token: write

jobs:
  test-runner-connection:
    runs-on: [self-hosted, Linux, X64, conexao-de-sorte-redis-infraestrutura]
    timeout-minutes: 5
    permissions:
      contents: read
      id-token: write
    steps:
      - name: Test Runner Connection
        run: |
          echo "ğŸ” Testando conexÃ£o com runner self-hosted..."
          echo "ğŸ“ Hostname: $(hostname)"
          echo "ğŸ“ User: $(whoami)"
          echo "ğŸ“ PWD: $(pwd)"
          echo "ğŸ“ OS: $(uname -a)"
          echo "ğŸ“ Docker version: $(docker --version)"
          echo "ğŸ“ Docker status:"
          docker info | head -20
          echo "ğŸ“ Docker Swarm status:"
          docker node ls || echo "NÃ£o Ã© manager node"
          echo "âœ… Runner conexÃ£o testada com sucesso!"